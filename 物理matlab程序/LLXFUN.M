%设一绝热的气缸长度为 L，横截面积为 S，一导热活塞质量为m， 
%m偏离平衡位置距气缸左端为x 。气缸两边封有同样质量的理想气体，
%气缸两边气体的温度分别为 T1和T2 ，压强为p1和p2 ，体积分别为 L*s 和
%(L -x )*S ，设初始时刻温度相等。研究活塞m的振动特征。
%这是一个典型的热力学问题，采用matlab处理，其方式极其简单，
%物理图像直观，充分体现了matlab处理微分方程（组）的强大功能。
%假设热量的传输速率和活塞两边的温度差成正比，比例系数K，
%两边气体的定容比热容为Cv ，p1*x*s/T1=p2*(L-x)*S/T2=c ，无摩擦，
%则根据牛顿定律和热力学定律，可将上述热力学问题用如下的微分方程组表示。
%	m*d2x/dt2=S*(p1-p2)=T1*c/x-T2*c/(L-x)	  （1）
%	Cv*dT1/dt=k*(T1-T2)-p1*S*dx/dt	          （2）
%	CvdT2/dt=-k(T2-T1)+p2*S*dx/dt	          （3）
%	设定，S=0.1m2 ，L=2.0m ，m=1.0kg ，k=0.3J/K ，c=33.33J/K ，Cv=50.0J/K 。
%且初始条件为t=0 时，v=0，x=1.3m ，T1=T2=300k 。
function ydot=llxfun(t,y,y0,m,l,c,k,cv)
ydot=[y(2);
   c*(y(3)/y(1)-y(4)/(l-y(1)))/m;
  (k*(y(4)-y(3))-(y(3)*y(2)*c)/y(1))/cv;
   (-k*(y(4)-y(3))+(y(4)*y(2)*c)/(l-y(1)))/cv];
